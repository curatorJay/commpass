{"version":3,"sources":["./src/app/history/history.page.html","./src/app/history/history.module.ts","./src/app/history/history.page.scss","./src/app/history/history.page.ts"],"names":[],"mappings":"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","file":"history-history-module-es2015.js","sourcesContent":["export default \"<ion-header no-border>\\n    <ion-toolbar color='primary'>\\n        <ion-buttons slot='start'>\\n            <ion-back-button></ion-back-button>\\n            <ion-menu-button></ion-menu-button>\\n        </ion-buttons>\\n        <ion-title> History </ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\" *ngIf='role === \\\"resident\\\" || role === \\\"dependent\\\"'>\\n    <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\" *ngIf='role === \\\"resident\\\"'>\\n        <ion-fab-button>\\n            <ion-icon name=\\\"add-circle\\\"></ion-icon>\\n        </ion-fab-button>\\n        <ion-fab-list side=\\\"top\\\">\\n            <ion-fab-button (click)='bookGuest()'>\\n                <ion-icon src=\\\"../../assets/sample-icons/activity/person.svg\\\"></ion-icon>\\n            </ion-fab-button>\\n            <ion-fab-button (click)='bookGroupGuest()'>\\n                <ion-icon src=\\\"../../assets/sample-icons/activity/group.svg\\\"></ion-icon>\\n            </ion-fab-button>\\n        </ion-fab-list>\\n    </ion-fab>\\n    <ion-searchbar placeholder=\\\"Search Visitor By Guest Code\\\" inputmode='text' mode='ios' animated [(ngModel)]='searchKey' (ionChange)='search($event)' *ngIf='visitors !== undefined || profile'></ion-searchbar>\\n    <!-- <ion-button color='primary' fill='outline' expand='block' style='height: 40px; width: 140px; margin: auto' (click)='search()' *ngIf='visitors !== undefined'>Search</ion-button> -->\\n    <p class=\\\"search__hint\\\">{{searchErrorText}}</p>\\n    <div id=\\\"welcome__message\\\" *ngIf='!profile'>\\n        <p class=\\\"hint\\\" *ngIf='!visitors'>Your visitor history will show here</p>\\n        <ion-skeleton-text animated style=\\\"width: 100%; height: 63px; border-radius: 10px\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%; height: 63px; border-radius: 10px\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%; height: 63px; border-radius: 10px\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%; height: 63px; border-radius: 10px\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%; height: 63px; border-radius: 10px\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%; height: 63px; border-radius: 10px\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%; height: 63px; border-radius: 10px\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%; height: 63px; border-radius: 10px\\\"></ion-skeleton-text>\\n    </div>\\n    <ion-list lines='full'>\\n        <!-- <ion-list-header>Visitors</ion-list-header> -->\\n        <ion-grid class=\\\"ion-activatable\\\" *ngFor=\\\"let visitor of visitors; let i = index\\\" (click)=\\\"viewVisitor(i)\\\">\\n            <div class=\\\"single__guest\\\" *ngIf='!checkIsArray(visitor.guest)'>\\n                <ion-item-group>\\n                    <ion-item>\\n                        <!-- <ion-row> -->\\n                        <ion-avatar item-left>\\n                            <!-- <img src=\\\"\\\"> -->\\n                            <ion-text>{{visitor.guestCode}}</ion-text>\\n                        </ion-avatar>\\n                        <ion-col size='8'>\\n                            <h6 class=\\\"name\\\"> {{ visitor.guest.fullname | titlecase}}</h6>\\n                            <p class=\\\"bookedAt\\\">{{ visitor.bookedAt | date:'medium' }}</p>\\n                        </ion-col>\\n                        <ion-col size='2'>\\n                            <p class=\\\"status\\\">{{visitor.status}}</p>\\n                        </ion-col>\\n                        <!-- </ion-row> -->\\n                    </ion-item>\\n                </ion-item-group>\\n                <!-- <ion-row>\\n                    <ion-label color='danger'>Name</ion-label>\\n                    <ion-skeleton-text animated style=\\\"width: 80%\\\" *ngIf='!visitor'></ion-skeleton-text>\\n                    <ion-input type=\\\"text\\\" readonly [value]='visitor.guest.fullname | titlecase' *ngIf='visitor'></ion-input>\\n                </ion-row>\\n                <ion-row>\\n                    <small>{{visitor.bookedAt | date:'medium'}}</small>\\n                </ion-row> -->\\n            </div>\\n            <div class=\\\"group__guest\\\" *ngIf='checkIsArray(visitor.guest)'>\\n                <ion-item-group>\\n                    <ion-item>\\n                        <!-- <ion-row> -->\\n                        <ion-avatar item-left>\\n                            <!-- <img src=\\\"\\\"> -->\\n                            <ion-text>{{visitor.guestCode}}</ion-text>\\n                        </ion-avatar>\\n                        <ion-col size='8'>\\n                            <h6 class=\\\"name\\\"> {{ visitor.guest[0].fullname | titlecase}} & {{visitor.guest.length - 1}} Other(s)</h6>\\n                            <p class=\\\"bookedAt\\\">{{ visitor.bookedAt | date:'medium' }}</p>\\n                        </ion-col>\\n                        <ion-col size='2'>\\n                            <p class=\\\"status\\\">{{visitor.status}}</p>\\n                        </ion-col>\\n                        <!-- </ion-row> -->\\n                    </ion-item>\\n                </ion-item-group>\\n            </div>\\n            <ion-ripple-effect></ion-ripple-effect>\\n        </ion-grid>\\n    </ion-list>\\n</ion-content>\\n\\n<!-- SECURITY CONTENT -->\\n<ion-content class=\\\"ion-padding sec-content\\\" *ngIf='role === \\\"security\\\"'>\\n    <p class=\\\"hint\\\" *ngIf='!visitors'>Visitor history will show here</p>\\n    <div id=\\\"welcome__message\\\" *ngIf='!profile'>\\n        <ion-row>\\n            <ion-skeleton-text animated style=\\\"width: 70px; height: 70px; border-radius: 50%\\\"></ion-skeleton-text>\\n            <ion-skeleton-text animated style=\\\"width: 70px; height: 70px; border-radius: 50%\\\"></ion-skeleton-text>\\n            <ion-skeleton-text animated style=\\\"width: 70px; height: 70px; border-radius: 50%\\\"></ion-skeleton-text>\\n            <ion-skeleton-text animated style=\\\"width: 70px; height: 70px; border-radius: 50%\\\"></ion-skeleton-text>\\n            <ion-skeleton-text animated style=\\\"width: 70px; height: 70px; border-radius: 50%\\\"></ion-skeleton-text>\\n            <!-- <ion-skeleton-text animated style=\\\"width: 70px; height: 70px; border-radius: 50%\\\"></ion-skeleton-text>\\n              <ion-skeleton-text animated style=\\\"width: 70px; height: 70px; border-radius: 50%\\\"></ion-skeleton-text>\\n              <ion-skeleton-text animated style=\\\"width: 70px; height: 70px; border-radius: 50%\\\"></ion-skeleton-text> -->\\n        </ion-row>\\n    </div>\\n    <ion-list lines='full'>\\n        <ion-row>\\n            <div class=\\\"visitor__code ion-activatable\\\" *ngFor='let visitor of visitors; let i = index' (click)=\\\"viewVisitor(i)\\\">\\n                <p id=\\\"visitor__code--text\\\">{{visitor.guestCode}}</p>\\n                <ion-ripple-effect></ion-ripple-effect>\\n            </div>\\n        </ion-row>\\n        <!-- <ion-searchbar placeholder=\\\"Search Visitor\\\" inputmode='text' mode='ios' animated [(ngModel)]='searchKey' (ionChange)='filter($event)'></ion-searchbar> -->\\n        <!-- <ion-button color='medium' fill='outline' expand='block' (click)='search()'>Search</ion-button> -->\\n        <!-- <ion-list-header>Visitors</ion-list-header> -->\\n        <!-- <ion-grid *ngFor=\\\"let visitor of visitors; let i = index\\\" (click)=\\\"viewVisitor(i)\\\">\\n                <ion-row>\\n                    <ion-label color='danger'>Name</ion-label>\\n                    <ion-skeleton-text animated style=\\\"width: 80%\\\" *ngIf='!visitor'></ion-skeleton-text>\\n                    <ion-input type=\\\"text\\\" readonly [value]='visitor.fullname | titlecase' *ngIf='visitor'></ion-input>\\n                </ion-row>\\n                <ion-row>\\n                    <small>{{visitor.bookedAt | date:'medium'}}</small>\\n                </ion-row>\\n            </ion-grid> -->\\n    </ion-list>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HistoryPage } from './history.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HistoryPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [HistoryPage]\n})\nexport class HistoryPageModule {}\n","export default \"ion-input {\\n  text-align: end !important;\\n}\\n\\nion-item,\\nion-list-header {\\n  --padding-start: 0 !important;\\n}\\n\\nion-list-header {\\n  color: var(--ion-color-medium) !important;\\n}\\n\\nion-row {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n          flex-direction: row;\\n  -webkit-box-pack: end;\\n          justify-content: flex-end;\\n  -webkit-box-align: center;\\n          align-items: center;\\n}\\n\\n.search__hint {\\n  color: var(--ion-color-danger) !important;\\n  padding: 10px !important;\\n  text-align: center;\\n}\\n\\n.single__guest ion-item-group ion-item ion-avatar,\\n.group__guest ion-item-group ion-item ion-avatar {\\n  text-align: center;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  display: -webkit-box;\\n  display: flex;\\n  padding: 20px !important;\\n  height: 70px !important;\\n  width: 70px !important;\\n  background: var(--app-background-shade);\\n}\\n\\n.single__guest ion-item-group ion-item ion-col[size=\\\"8\\\"],\\n.group__guest ion-item-group ion-item ion-col[size=\\\"8\\\"] {\\n  height: 70px !important;\\n  margin: 0px 0px 0px 20px;\\n  padding: 0;\\n  /* align-items: center; */\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n          flex-direction: column;\\n}\\n\\n.single__guest ion-item-group ion-item ion-col[size=\\\"8\\\"] h6,\\n.single__guest ion-item-group ion-item ion-col[size=\\\"8\\\"] p,\\n.group__guest ion-item-group ion-item ion-col[size=\\\"8\\\"] h6,\\n.group__guest ion-item-group ion-item ion-col[size=\\\"8\\\"] p {\\n  padding: 0 !important;\\n  margin: 0 !important;\\n}\\n\\n.single__guest ion-item-group ion-item ion-col[size=\\\"8\\\"] p,\\n.group__guest ion-item-group ion-item ion-col[size=\\\"8\\\"] p {\\n  color: grey !important;\\n}\\n\\n.single__guest ion-item-group ion-item ion-col[size=\\\"2\\\"],\\n.group__guest ion-item-group ion-item ion-col[size=\\\"2\\\"] {\\n  margin: 0;\\n  padding: 0;\\n  -webkit-transform: translate(-40px, -20px);\\n          transform: translate(-40px, -20px);\\n  text-align: right;\\n}\\n\\n.single__guest ion-item-group ion-item ion-col[size=\\\"2\\\"] .status,\\n.group__guest ion-item-group ion-item ion-col[size=\\\"2\\\"] .status {\\n  font-size: 12px;\\n  color: var(--ion-color-secondary) !important;\\n}\\n\\nion-grid {\\n  padding: 0px 0px 10px 0px;\\n  border-radius: 10px;\\n}\\n\\np {\\n  padding: 0 !important;\\n  margin: 0 !important;\\n  color: var(--ion-color-dark) !important;\\n}\\n\\n.sec-content ion-row {\\n  -webkit-box-pack: center !important;\\n          justify-content: center !important;\\n}\\n\\n.sec-content ion-row .visitor__code {\\n  height: 70px !important;\\n  width: 70px !important;\\n  border-radius: 50%;\\n  background: var(--app-background-shade) !important;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  margin: 10px;\\n}\\n\\n.sec-content ion-row .visitor__code #visitor__code--text {\\n  color: #000 !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9Ncl9Gcm9zaC9EZXNrdG9wL1NlY3VyZVBhc3Mvc3JjL2FwcC9oaXN0b3J5L2hpc3RvcnkucGFnZS5zY3NzIiwic3JjL2FwcC9oaXN0b3J5L2hpc3RvcnkucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksMEJBQUE7QUNDSjs7QURFQTs7RUFFSSw2QkFBQTtBQ0NKOztBREVBO0VBQ0kseUNBQUE7QUNDSjs7QURFQTtFQUNJLG9CQUFBO0VBQUEsYUFBQTtFQUNBLDhCQUFBO0VBQUEsNkJBQUE7VUFBQSxtQkFBQTtFQUNBLHFCQUFBO1VBQUEseUJBQUE7RUFDQSx5QkFBQTtVQUFBLG1CQUFBO0FDQ0o7O0FERUE7RUFDSSx5Q0FBQTtFQUNBLHdCQUFBO0VBQ0Esa0JBQUE7QUNDSjs7QURNWTs7RUFDSSxrQkFBQTtFQUNBLHlCQUFBO1VBQUEsbUJBQUE7RUFDQSx3QkFBQTtVQUFBLHVCQUFBO0VBQ0Esb0JBQUE7RUFBQSxhQUFBO0VBQ0Esd0JBQUE7RUFDQSx1QkFBQTtFQUNBLHNCQUFBO0VBQ0EsdUNBQUE7QUNGaEI7O0FES1k7O0VBQ0ksdUJBQUE7RUFDQSx3QkFBQTtFQUNBLFVBQUE7RUFDQSx5QkFBQTtFQUNBLHdCQUFBO1VBQUEsdUJBQUE7RUFDQSxvQkFBQTtFQUFBLGFBQUE7RUFDQSw0QkFBQTtFQUFBLDZCQUFBO1VBQUEsc0JBQUE7QUNGaEI7O0FER2dCOzs7O0VBRUkscUJBQUE7RUFDQSxvQkFBQTtBQ0NwQjs7QURDZ0I7O0VBQ0ksc0JBQUE7QUNFcEI7O0FEQ1k7O0VBQ0ksU0FBQTtFQUNBLFVBQUE7RUFDQSwwQ0FBQTtVQUFBLGtDQUFBO0VBQ0EsaUJBQUE7QUNFaEI7O0FERGdCOztFQUNJLGVBQUE7RUFDQSw0Q0FBQTtBQ0lwQjs7QURJQTtFQUVJLHlCQUFBO0VBQ0EsbUJBQUE7QUNGSjs7QURNQTtFQUNJLHFCQUFBO0VBQ0Esb0JBQUE7RUFDQSx1Q0FBQTtBQ0hKOztBRE9JO0VBQ0ksbUNBQUE7VUFBQSxrQ0FBQTtBQ0pSOztBREtRO0VBQ0ksdUJBQUE7RUFDQSxzQkFBQTtFQUNBLGtCQUFBO0VBQ0Esa0RBQUE7RUFDQSxvQkFBQTtFQUFBLGFBQUE7RUFDQSx3QkFBQTtVQUFBLHVCQUFBO0VBQ0EseUJBQUE7VUFBQSxtQkFBQTtFQUNBLFlBQUE7QUNIWjs7QURJWTtFQUNJLHNCQUFBO0FDRmhCIiwiZmlsZSI6InNyYy9hcHAvaGlzdG9yeS9oaXN0b3J5LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1pbnB1dCB7XG4gICAgdGV4dC1hbGlnbjogZW5kICFpbXBvcnRhbnRcbn1cblxuaW9uLWl0ZW0sXG5pb24tbGlzdC1oZWFkZXIge1xuICAgIC0tcGFkZGluZy1zdGFydDogMCAhaW1wb3J0YW50O1xufVxuXG5pb24tbGlzdC1oZWFkZXIge1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItbWVkaXVtKSAhaW1wb3J0YW50XG59XG5cbmlvbi1yb3cge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi5zZWFyY2hfX2hpbnQge1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFuZ2VyKSAhaW1wb3J0YW50O1xuICAgIHBhZGRpbmc6IDEwcHggIWltcG9ydGFudDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5zaW5nbGVfX2d1ZXN0LFxuLmdyb3VwX19ndWVzdCB7XG4gICAgaW9uLWl0ZW0tZ3JvdXAge1xuICAgICAgICBpb24taXRlbSB7XG4gICAgICAgICAgICBpb24tYXZhdGFyIHtcbiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDIwcHggIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDcwcHggIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgICB3aWR0aDogNzBweCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWFwcC1iYWNrZ3JvdW5kLXNoYWRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlvbi1yb3cge1xuICAgICAgICAgICAgaW9uLWNvbFtzaXplPSc4J10ge1xuICAgICAgICAgICAgICAgIGhlaWdodDogNzBweCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICAgIG1hcmdpbjogMHB4IDBweCAwcHggMjBweDtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgICAgICAgIC8qIGFsaWduLWl0ZW1zOiBjZW50ZXI7ICovXG4gICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgICAgICAgIGg2LFxuICAgICAgICAgICAgICAgIHAge1xuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMCAhaW1wb3J0YW50XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHAge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogZ3JleSAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlvbi1jb2xbc2l6ZT0nMiddIHtcbiAgICAgICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNDBweCwgLTIwcHgpO1xuICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICAgICAgICAgICAgICAgIC5zdGF0dXMge1xuICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5KSAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuaW9uLWdyaWQge1xuICAgIC8vICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1hcHAtYmFja2dyb3VuZC1zaGFkZSk7XG4gICAgcGFkZGluZzogMHB4IDBweCAxMHB4IDBweDtcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICAgIC8vICAgICBtYXJnaW4tdG9wOiAyMHB4O1xufVxuXG5wIHtcbiAgICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XG4gICAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7XG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrKSAhaW1wb3J0YW50XG59XG5cbi5zZWMtY29udGVudCB7XG4gICAgaW9uLXJvdyB7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyICFpbXBvcnRhbnQ7XG4gICAgICAgIC52aXNpdG9yX19jb2RlIHtcbiAgICAgICAgICAgIGhlaWdodDogNzBweCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgd2lkdGg6IDcwcHggIWltcG9ydGFudDtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWFwcC1iYWNrZ3JvdW5kLXNoYWRlKSAhaW1wb3J0YW50O1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICAgIG1hcmdpbjogMTBweDtcbiAgICAgICAgICAgICN2aXNpdG9yX19jb2RlLS10ZXh0IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogIzAwMCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsImlvbi1pbnB1dCB7XG4gIHRleHQtYWxpZ246IGVuZCAhaW1wb3J0YW50O1xufVxuXG5pb24taXRlbSxcbmlvbi1saXN0LWhlYWRlciB7XG4gIC0tcGFkZGluZy1zdGFydDogMCAhaW1wb3J0YW50O1xufVxuXG5pb24tbGlzdC1oZWFkZXIge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLW1lZGl1bSkgIWltcG9ydGFudDtcbn1cblxuaW9uLXJvdyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi5zZWFyY2hfX2hpbnQge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhbmdlcikgIWltcG9ydGFudDtcbiAgcGFkZGluZzogMTBweCAhaW1wb3J0YW50O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5zaW5nbGVfX2d1ZXN0IGlvbi1pdGVtLWdyb3VwIGlvbi1pdGVtIGlvbi1hdmF0YXIsXG4uZ3JvdXBfX2d1ZXN0IGlvbi1pdGVtLWdyb3VwIGlvbi1pdGVtIGlvbi1hdmF0YXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBkaXNwbGF5OiBmbGV4O1xuICBwYWRkaW5nOiAyMHB4ICFpbXBvcnRhbnQ7XG4gIGhlaWdodDogNzBweCAhaW1wb3J0YW50O1xuICB3aWR0aDogNzBweCAhaW1wb3J0YW50O1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1hcHAtYmFja2dyb3VuZC1zaGFkZSk7XG59XG4uc2luZ2xlX19ndWVzdCBpb24taXRlbS1ncm91cCBpb24taXRlbSBpb24tY29sW3NpemU9XCI4XCJdLFxuLmdyb3VwX19ndWVzdCBpb24taXRlbS1ncm91cCBpb24taXRlbSBpb24tY29sW3NpemU9XCI4XCJdIHtcbiAgaGVpZ2h0OiA3MHB4ICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMHB4IDBweCAwcHggMjBweDtcbiAgcGFkZGluZzogMDtcbiAgLyogYWxpZ24taXRlbXM6IGNlbnRlcjsgKi9cbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG59XG4uc2luZ2xlX19ndWVzdCBpb24taXRlbS1ncm91cCBpb24taXRlbSBpb24tY29sW3NpemU9XCI4XCJdIGg2LFxuLnNpbmdsZV9fZ3Vlc3QgaW9uLWl0ZW0tZ3JvdXAgaW9uLWl0ZW0gaW9uLWNvbFtzaXplPVwiOFwiXSBwLFxuLmdyb3VwX19ndWVzdCBpb24taXRlbS1ncm91cCBpb24taXRlbSBpb24tY29sW3NpemU9XCI4XCJdIGg2LFxuLmdyb3VwX19ndWVzdCBpb24taXRlbS1ncm91cCBpb24taXRlbSBpb24tY29sW3NpemU9XCI4XCJdIHAge1xuICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xufVxuLnNpbmdsZV9fZ3Vlc3QgaW9uLWl0ZW0tZ3JvdXAgaW9uLWl0ZW0gaW9uLWNvbFtzaXplPVwiOFwiXSBwLFxuLmdyb3VwX19ndWVzdCBpb24taXRlbS1ncm91cCBpb24taXRlbSBpb24tY29sW3NpemU9XCI4XCJdIHAge1xuICBjb2xvcjogZ3JleSAhaW1wb3J0YW50O1xufVxuLnNpbmdsZV9fZ3Vlc3QgaW9uLWl0ZW0tZ3JvdXAgaW9uLWl0ZW0gaW9uLWNvbFtzaXplPVwiMlwiXSxcbi5ncm91cF9fZ3Vlc3QgaW9uLWl0ZW0tZ3JvdXAgaW9uLWl0ZW0gaW9uLWNvbFtzaXplPVwiMlwiXSB7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTQwcHgsIC0yMHB4KTtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG4uc2luZ2xlX19ndWVzdCBpb24taXRlbS1ncm91cCBpb24taXRlbSBpb24tY29sW3NpemU9XCIyXCJdIC5zdGF0dXMsXG4uZ3JvdXBfX2d1ZXN0IGlvbi1pdGVtLWdyb3VwIGlvbi1pdGVtIGlvbi1jb2xbc2l6ZT1cIjJcIl0gLnN0YXR1cyB7XG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnkpICFpbXBvcnRhbnQ7XG59XG5cbmlvbi1ncmlkIHtcbiAgcGFkZGluZzogMHB4IDBweCAxMHB4IDBweDtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbn1cblxucCB7XG4gIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcbiAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyaykgIWltcG9ydGFudDtcbn1cblxuLnNlYy1jb250ZW50IGlvbi1yb3cge1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlciAhaW1wb3J0YW50O1xufVxuLnNlYy1jb250ZW50IGlvbi1yb3cgLnZpc2l0b3JfX2NvZGUge1xuICBoZWlnaHQ6IDcwcHggIWltcG9ydGFudDtcbiAgd2lkdGg6IDcwcHggIWltcG9ydGFudDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1hcHAtYmFja2dyb3VuZC1zaGFkZSkgIWltcG9ydGFudDtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIG1hcmdpbjogMTBweDtcbn1cbi5zZWMtY29udGVudCBpb24tcm93IC52aXNpdG9yX19jb2RlICN2aXNpdG9yX19jb2RlLS10ZXh0IHtcbiAgY29sb3I6ICMwMDAgIWltcG9ydGFudDtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { HoaStoreService } from '../hoa-store.service';\n\nimport * as firebase from 'firebase/app';\nimport 'firebase/database';\n\n@Component({\n  selector: 'app-history',\n  templateUrl: './history.page.html',\n  styleUrls: ['./history.page.scss'],\n  providers: [HoaStoreService]\n})\nexport class HistoryPage implements OnInit {\n      profile: any;\n      visitors: any[];\n      visitorsKeys: any[] = [];\n      role: any;\n      uid: any;\n      searchKey = '';\n      allVisitors = [];\n      allVisitorsKeys = [];\n      searchedIndex = 0;\n      searchErrorText: string;\n  constructor(private store: HoaStoreService,\n              private router: Router) {\n        this.role = this.store.getItem('hoa-role');\n        this.uid = this.store.getItem('hoa-uid');\n  }\n\n  getProfile() {\n      firebase.database().ref(`${this.role}/${this.uid}`).once('value', (snapshot) => {\n            this.profile = snapshot.val();\n      }).catch((err: Error) => {\n            console.error(err.message);\n      });\n  }\n\n  getVisitors() {\n        if (this.role === 'resident' || this.role === 'dependent') {\n            firebase.database().ref(`${this.role}/${this.uid}`).child('visitors').orderByChild('bookedAt').once('value', (snapshot) => {\n                  this.visitors = [];\n                  for (const key in snapshot.val()) {\n                        if (snapshot.val().hasOwnProperty(key)) {\n                              const visitor = snapshot.val()[key];\n                              this.visitors.push(visitor);\n                              this.visitorsKeys.push(key);\n                        }\n                  }\n                  this.visitors = this.visitors.reverse().slice(0, 500);\n                  this.visitorsKeys = this.visitorsKeys.reverse().slice(0, 500);\n                  this.allVisitors = this.visitors;\n                  this.allVisitorsKeys = this.visitorsKeys;\n            }).catch((err: Error) => {\n                  console.error(err.message);\n            });\n        }\n        if (this.role === 'security') {\n            firebase.database().ref(`Estates/${this.profile.estateUID}/visitors`).orderByChild('bookedAt').once('value', (snapshot) => {\n                  this.visitors = [];\n                  for (const key in snapshot.val()) {\n                        if (snapshot.val().hasOwnProperty(key)) {\n                              const visitor = snapshot.val()[key];\n                              this.visitors.push(visitor);\n                              this.visitorsKeys.push(key);\n                        }\n                  }\n                  this.visitors.reverse();\n                  this.visitorsKeys.reverse();\n                  this.allVisitors = this.visitors;\n                  this.allVisitorsKeys = this.visitorsKeys;\n            }).catch((err: Error) => {\n                  console.error(err.message);\n            });\n        }\n  }\n\n  filter(ev: any) {\n      // this.items = this.allItems;\n      // this.getVisitors();\n    this.visitors = this.allVisitors;\n      // console.log(ev);\n    const val = ev.detail.value;\n//     console.log('/val', typeof val);\n\n    if (val && val.trim() !== '') {\n      this.visitors = this.visitors.filter(term => {\n            this.searchedIndex = this.visitors.indexOf(term);\n            // this.visitorsKeys = this.visitorsKeys[this.searchedIndex];\n            console.log('Selected Index', this.searchedIndex);\n        return term.guestCode.toString() === val;\n      });\n      // this.visitors.filter(term => {\n      //       this.visitorsKeys = [];\n      //       return this.visitorsKeys.push(this.visitorsKeys[this.visitors.indexOf(term)]);\n      // });\n    }\n    console.log(this.visitorsKeys);\n  }\n\n  search(ev: any): Promise<any> {\n      console.log(ev);\n      console.log('searching');\n    //    for (let i = 0; i < this.visitors.length; i++) {\n    //          console.log('forloop');\n    //       if (this.visitors[i].guest.fullname === this.searchKey) {\n    //             console.log('found at ' + i);\n    //             this.visitors = [];\n    //             this.visitors.push(this.visitors[i]);\n    //       }\n    //    }\n\n    return new Promise((resolve, reject) => {\n      const val = ev.detail.value;\n      if (val !== '' && val !== null) {\n            this.allVisitors.forEach((visitor, i) => {\n               // console.log(visitor);\n               // if (!this.checkIsArray(visitor.guest)) {\n                     console.log(this.checkIsArray(visitor.guest));\n                     if (visitor.guestCode.toString() === this.searchKey) {\n                           // console.log('found at ' + i);\n                           this.visitors = [];\n                           this.visitorsKeys = [];\n                           this.visitors.push(this.allVisitors[i]);\n                           this.visitorsKeys.push(this.allVisitorsKeys[i]);\n                           console.log(this.visitors);\n                           this.searchErrorText = '';\n                        //    return this.visitors;\n                     }\n                     resolve(this.searchErrorText = '');\n               // } else {\n               //       visitor.guest.forEach(guest => {\n                           // if (guest.fullname.toLowerCase() === this.searchKey) {\n                           //       // console.log('found at ' + i);\n                           //       this.visitors = [];\n                           //       this.visitorsKeys = [];\n                           //       this.visitors.push(this.allVisitors[i]);\n                           //       this.visitorsKeys.push(this.allVisitorsKeys[i]);\n                           //       console.log(this.visitors);\n                           //       return;\n                           // }\n                     });\n                     reject('Guest Code Does Not Exist');\n            } else {\n                  this.visitors = this.allVisitors;\n                  this.visitorsKeys = this.allVisitorsKeys;\n                  this.searchErrorText = '';\n            }\n    }).catch((err) => {\n      this.searchErrorText = err;\n    });\n    //       }\n    //    });\n}\n\n//   search() {\n//         console.log('searching');\n//       //    for (let i = 0; i < this.visitors.length; i++) {\n//       //          console.log('forloop');\n//       //       if (this.visitors[i].guest.fullname === this.searchKey) {\n//       //             console.log('found at ' + i);\n//       //             this.visitors = [];\n//       //             this.visitors.push(this.visitors[i]);\n//       //       }\n//       //    }\n\n//          this.allVisitors.forEach((visitor, i) => {\n//             // console.log(visitor);\n//             // if (!this.checkIsArray(visitor.guest)) {\n//                   console.log(this.checkIsArray(visitor.guest));\n//                   if (visitor.guestCode.toString() === this.searchKey) {\n//                         // console.log('found at ' + i);\n//                         this.visitors = [];\n//                         this.visitorsKeys = [];\n//                         this.visitors.push(this.allVisitors[i]);\n//                         this.visitorsKeys.push(this.allVisitorsKeys[i]);\n//                         console.log(this.visitors);\n//                         return;\n//                   }\n//             // } else {\n//             //       visitor.guest.forEach(guest => {\n//                         // if (guest.fullname.toLowerCase() === this.searchKey) {\n//                         //       // console.log('found at ' + i);\n//                         //       this.visitors = [];\n//                         //       this.visitorsKeys = [];\n//                         //       this.visitors.push(this.allVisitors[i]);\n//                         //       this.visitorsKeys.push(this.allVisitorsKeys[i]);\n//                         //       console.log(this.visitors);\n//                         //       return;\n//                         // }\n//                   });\n//       //       }\n//       //    });\n//   }\n\n  checkIsArray(obj: any) {\n      return Array.isArray(obj);\n  }\n\n  viewVisitor(i: number) {\n      console.log(this.visitorsKeys[i]);\n    this.router.navigate(['details', this.visitorsKeys[i]]);\n}\n\n  bookGuest() {\n        this.router.navigate(['book-guest']);\n  }\n\n  ngOnInit() {\n      this.role = this.store.getItem('hoa-role');\n      this.uid = this.store.getItem('hoa-uid');\n        this.getProfile();\n        this.getVisitors();\n  }\n\n  ionViewDidEnter() {\n      this.role = this.store.getItem('hoa-role');\n      this.uid = this.store.getItem('hoa-uid');\n        this.getProfile();\n        this.getVisitors();\n        this.visitors = this.allVisitors;\n  }\n\n  ionViewWillEnter() {\n      this.role = this.store.getItem('hoa-role');\n      this.uid = this.store.getItem('hoa-uid');\n        this.getProfile();\n        this.getVisitors();\n        this.visitors = this.allVisitors;\n  }\n\n}\n"],"sourceRoot":"webpack:///"}