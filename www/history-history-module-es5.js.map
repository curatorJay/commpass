{"version":3,"sources":["src/app/history/history.page.html","src/app/history/history.module.ts","src/app/history/history.page.scss","src/app/history/history.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header no-border>\\n    <ion-toolbar color='primary'>\\n        <ion-buttons slot='start'>\\n            <ion-back-button></ion-back-button>\\n            <ion-menu-button></ion-menu-button>\\n        </ion-buttons>\\n        <ion-title> History </ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\" *ngIf='role === \\\"resident\\\" || role === \\\"dependent\\\"'>\\n    <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\" *ngIf='role === \\\"resident\\\"'>\\n        <ion-fab-button>\\n            <ion-icon name=\\\"add-circle\\\"></ion-icon>\\n        </ion-fab-button>\\n        <ion-fab-list side=\\\"top\\\">\\n            <ion-fab-button (click)='bookGuest()'>\\n                <ion-icon src=\\\"../../assets/sample-icons/activity/person.svg\\\"></ion-icon>\\n            </ion-fab-button>\\n            <ion-fab-button (click)='bookGroupGuest()'>\\n                <ion-icon src=\\\"../../assets/sample-icons/activity/group.svg\\\"></ion-icon>\\n            </ion-fab-button>\\n        </ion-fab-list>\\n    </ion-fab>\\n    <ion-searchbar placeholder=\\\"Search Visitor By Guest Code\\\" inputmode='text' mode='ios' animated [(ngModel)]='searchKey' (ionChange)='search($event)' *ngIf='visitors !== undefined || profile'></ion-searchbar>\\n    <!-- <ion-button color='primary' fill='outline' expand='block' style='height: 40px; width: 140px; margin: auto' (click)='search()' *ngIf='visitors !== undefined'>Search</ion-button> -->\\n    <p class=\\\"search__hint\\\">{{searchErrorText}}</p>\\n    <div id=\\\"welcome__message\\\" *ngIf='!profile'>\\n        <p class=\\\"hint\\\" *ngIf='!visitors'>Your visitor history will show here</p>\\n        <ion-skeleton-text animated style=\\\"width: 100%; height: 63px; border-radius: 10px\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%; height: 63px; border-radius: 10px\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%; height: 63px; border-radius: 10px\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%; height: 63px; border-radius: 10px\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%; height: 63px; border-radius: 10px\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%; height: 63px; border-radius: 10px\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%; height: 63px; border-radius: 10px\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%; height: 63px; border-radius: 10px\\\"></ion-skeleton-text>\\n    </div>\\n    <ion-list lines='full'>\\n        <!-- <ion-list-header>Visitors</ion-list-header> -->\\n        <ion-grid class=\\\"ion-activatable\\\" *ngFor=\\\"let visitor of visitors; let i = index\\\" (click)=\\\"viewVisitor(i)\\\">\\n            <div class=\\\"single__guest\\\" *ngIf='!checkIsArray(visitor.guest)'>\\n                <ion-item-group>\\n                    <ion-item>\\n                        <!-- <ion-row> -->\\n                        <ion-avatar item-left>\\n                            <!-- <img src=\\\"\\\"> -->\\n                            <ion-text>{{visitor.guestCode}}</ion-text>\\n                        </ion-avatar>\\n                        <ion-col size='8'>\\n                            <h6 class=\\\"name\\\"> {{ visitor.guest.fullname | titlecase}}</h6>\\n                            <p class=\\\"bookedAt\\\">{{ visitor.bookedAt | date:'medium' }}</p>\\n                        </ion-col>\\n                        <ion-col size='2'>\\n                            <p class=\\\"status\\\">{{visitor.status}}</p>\\n                        </ion-col>\\n                        <!-- </ion-row> -->\\n                    </ion-item>\\n                </ion-item-group>\\n                <!-- <ion-row>\\n                    <ion-label color='danger'>Name</ion-label>\\n                    <ion-skeleton-text animated style=\\\"width: 80%\\\" *ngIf='!visitor'></ion-skeleton-text>\\n                    <ion-input type=\\\"text\\\" readonly [value]='visitor.guest.fullname | titlecase' *ngIf='visitor'></ion-input>\\n                </ion-row>\\n                <ion-row>\\n                    <small>{{visitor.bookedAt | date:'medium'}}</small>\\n                </ion-row> -->\\n            </div>\\n            <div class=\\\"group__guest\\\" *ngIf='checkIsArray(visitor.guest)'>\\n                <ion-item-group>\\n                    <ion-item>\\n                        <!-- <ion-row> -->\\n                        <ion-avatar item-left>\\n                            <!-- <img src=\\\"\\\"> -->\\n                            <ion-text>{{visitor.guestCode}}</ion-text>\\n                        </ion-avatar>\\n                        <ion-col size='8'>\\n                            <h6 class=\\\"name\\\"> {{ visitor.guest[0].fullname | titlecase}} & {{visitor.guest.length - 1}} Other(s)</h6>\\n                            <p class=\\\"bookedAt\\\">{{ visitor.bookedAt | date:'medium' }}</p>\\n                        </ion-col>\\n                        <ion-col size='2'>\\n                            <p class=\\\"status\\\">{{visitor.status}}</p>\\n                        </ion-col>\\n                        <!-- </ion-row> -->\\n                    </ion-item>\\n                </ion-item-group>\\n            </div>\\n            <ion-ripple-effect></ion-ripple-effect>\\n        </ion-grid>\\n    </ion-list>\\n</ion-content>\\n\\n<!-- SECURITY CONTENT -->\\n<ion-content class=\\\"ion-padding sec-content\\\" *ngIf='role === \\\"security\\\"'>\\n    <p class=\\\"hint\\\" *ngIf='!visitors'>Visitor history will show here</p>\\n    <div id=\\\"welcome__message\\\" *ngIf='!profile'>\\n        <ion-row>\\n            <ion-skeleton-text animated style=\\\"width: 70px; height: 70px; border-radius: 50%\\\"></ion-skeleton-text>\\n            <ion-skeleton-text animated style=\\\"width: 70px; height: 70px; border-radius: 50%\\\"></ion-skeleton-text>\\n            <ion-skeleton-text animated style=\\\"width: 70px; height: 70px; border-radius: 50%\\\"></ion-skeleton-text>\\n            <ion-skeleton-text animated style=\\\"width: 70px; height: 70px; border-radius: 50%\\\"></ion-skeleton-text>\\n            <ion-skeleton-text animated style=\\\"width: 70px; height: 70px; border-radius: 50%\\\"></ion-skeleton-text>\\n            <!-- <ion-skeleton-text animated style=\\\"width: 70px; height: 70px; border-radius: 50%\\\"></ion-skeleton-text>\\n              <ion-skeleton-text animated style=\\\"width: 70px; height: 70px; border-radius: 50%\\\"></ion-skeleton-text>\\n              <ion-skeleton-text animated style=\\\"width: 70px; height: 70px; border-radius: 50%\\\"></ion-skeleton-text> -->\\n        </ion-row>\\n    </div>\\n    <ion-list lines='full'>\\n        <ion-row>\\n            <div class=\\\"visitor__code ion-activatable\\\" *ngFor='let visitor of visitors; let i = index' (click)=\\\"viewVisitor(i)\\\">\\n                <p id=\\\"visitor__code--text\\\">{{visitor.guestCode}}</p>\\n                <ion-ripple-effect></ion-ripple-effect>\\n            </div>\\n        </ion-row>\\n        <!-- <ion-searchbar placeholder=\\\"Search Visitor\\\" inputmode='text' mode='ios' animated [(ngModel)]='searchKey' (ionChange)='filter($event)'></ion-searchbar> -->\\n        <!-- <ion-button color='medium' fill='outline' expand='block' (click)='search()'>Search</ion-button> -->\\n        <!-- <ion-list-header>Visitors</ion-list-header> -->\\n        <!-- <ion-grid *ngFor=\\\"let visitor of visitors; let i = index\\\" (click)=\\\"viewVisitor(i)\\\">\\n                <ion-row>\\n                    <ion-label color='danger'>Name</ion-label>\\n                    <ion-skeleton-text animated style=\\\"width: 80%\\\" *ngIf='!visitor'></ion-skeleton-text>\\n                    <ion-input type=\\\"text\\\" readonly [value]='visitor.fullname | titlecase' *ngIf='visitor'></ion-input>\\n                </ion-row>\\n                <ion-row>\\n                    <small>{{visitor.bookedAt | date:'medium'}}</small>\\n                </ion-row>\\n            </ion-grid> -->\\n    </ion-list>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HistoryPage } from './history.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HistoryPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [HistoryPage]\n})\nexport class HistoryPageModule {}\n","export default \"ion-input {\\n  text-align: end !important;\\n}\\n\\nion-item,\\nion-list-header {\\n  --padding-start: 0 !important;\\n}\\n\\nion-list-header {\\n  color: var(--ion-color-medium) !important;\\n}\\n\\nion-row {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n          flex-direction: row;\\n  -webkit-box-pack: end;\\n          justify-content: flex-end;\\n  -webkit-box-align: center;\\n          align-items: center;\\n}\\n\\n.search__hint {\\n  color: var(--ion-color-danger) !important;\\n  padding: 10px !important;\\n  text-align: center;\\n}\\n\\n.single__guest ion-item-group ion-item ion-avatar,\\n.group__guest ion-item-group ion-item ion-avatar {\\n  text-align: center;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  display: -webkit-box;\\n  display: flex;\\n  padding: 20px !important;\\n  height: 70px !important;\\n  width: 70px !important;\\n  background: var(--app-background-shade);\\n}\\n\\n.single__guest ion-item-group ion-item ion-col[size=\\\"8\\\"],\\n.group__guest ion-item-group ion-item ion-col[size=\\\"8\\\"] {\\n  height: 70px !important;\\n  margin: 0px 0px 0px 20px;\\n  padding: 0;\\n  /* align-items: center; */\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n          flex-direction: column;\\n}\\n\\n.single__guest ion-item-group ion-item ion-col[size=\\\"8\\\"] h6,\\n.single__guest ion-item-group ion-item ion-col[size=\\\"8\\\"] p,\\n.group__guest ion-item-group ion-item ion-col[size=\\\"8\\\"] h6,\\n.group__guest ion-item-group ion-item ion-col[size=\\\"8\\\"] p {\\n  padding: 0 !important;\\n  margin: 0 !important;\\n}\\n\\n.single__guest ion-item-group ion-item ion-col[size=\\\"8\\\"] p,\\n.group__guest ion-item-group ion-item ion-col[size=\\\"8\\\"] p {\\n  color: grey !important;\\n}\\n\\n.single__guest ion-item-group ion-item ion-col[size=\\\"2\\\"],\\n.group__guest ion-item-group ion-item ion-col[size=\\\"2\\\"] {\\n  margin: 0;\\n  padding: 0;\\n  -webkit-transform: translate(-40px, -20px);\\n          transform: translate(-40px, -20px);\\n  text-align: right;\\n}\\n\\n.single__guest ion-item-group ion-item ion-col[size=\\\"2\\\"] .status,\\n.group__guest ion-item-group ion-item ion-col[size=\\\"2\\\"] .status {\\n  font-size: 12px;\\n  color: var(--ion-color-secondary) !important;\\n}\\n\\nion-grid {\\n  padding: 0px 0px 10px 0px;\\n  border-radius: 10px;\\n}\\n\\np {\\n  padding: 0 !important;\\n  margin: 0 !important;\\n  color: var(--ion-color-dark) !important;\\n}\\n\\n.sec-content ion-row {\\n  -webkit-box-pack: center !important;\\n          justify-content: center !important;\\n}\\n\\n.sec-content ion-row .visitor__code {\\n  height: 70px !important;\\n  width: 70px !important;\\n  border-radius: 50%;\\n  background: var(--app-background-shade) !important;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  margin: 10px;\\n}\\n\\n.sec-content ion-row .visitor__code #visitor__code--text {\\n  color: #000 !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9Ncl9Gcm9zaC9EZXNrdG9wL1NlY3VyZVBhc3Mvc3JjL2FwcC9oaXN0b3J5L2hpc3RvcnkucGFnZS5zY3NzIiwic3JjL2FwcC9oaXN0b3J5L2hpc3RvcnkucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksMEJBQUE7QUNDSjs7QURFQTs7RUFFSSw2QkFBQTtBQ0NKOztBREVBO0VBQ0kseUNBQUE7QUNDSjs7QURFQTtFQUNJLG9CQUFBO0VBQUEsYUFBQTtFQUNBLDhCQUFBO0VBQUEsNkJBQUE7VUFBQSxtQkFBQTtFQUNBLHFCQUFBO1VBQUEseUJBQUE7RUFDQSx5QkFBQTtVQUFBLG1CQUFBO0FDQ0o7O0FERUE7RUFDSSx5Q0FBQTtFQUNBLHdCQUFBO0VBQ0Esa0JBQUE7QUNDSjs7QURNWTs7RUFDSSxrQkFBQTtFQUNBLHlCQUFBO1VBQUEsbUJBQUE7RUFDQSx3QkFBQTtVQUFBLHVCQUFBO0VBQ0Esb0JBQUE7RUFBQSxhQUFBO0VBQ0Esd0JBQUE7RUFDQSx1QkFBQTtFQUNBLHNCQUFBO0VBQ0EsdUNBQUE7QUNGaEI7O0FES1k7O0VBQ0ksdUJBQUE7RUFDQSx3QkFBQTtFQUNBLFVBQUE7RUFDQSx5QkFBQTtFQUNBLHdCQUFBO1VBQUEsdUJBQUE7RUFDQSxvQkFBQTtFQUFBLGFBQUE7RUFDQSw0QkFBQTtFQUFBLDZCQUFBO1VBQUEsc0JBQUE7QUNGaEI7O0FER2dCOzs7O0VBRUkscUJBQUE7RUFDQSxvQkFBQTtBQ0NwQjs7QURDZ0I7O0VBQ0ksc0JBQUE7QUNFcEI7O0FEQ1k7O0VBQ0ksU0FBQTtFQUNBLFVBQUE7RUFDQSwwQ0FBQTtVQUFBLGtDQUFBO0VBQ0EsaUJBQUE7QUNFaEI7O0FERGdCOztFQUNJLGVBQUE7RUFDQSw0Q0FBQTtBQ0lwQjs7QURJQTtFQUVJLHlCQUFBO0VBQ0EsbUJBQUE7QUNGSjs7QURNQTtFQUNJLHFCQUFBO0VBQ0Esb0JBQUE7RUFDQSx1Q0FBQTtBQ0hKOztBRE9JO0VBQ0ksbUNBQUE7VUFBQSxrQ0FBQTtBQ0pSOztBREtRO0VBQ0ksdUJBQUE7RUFDQSxzQkFBQTtFQUNBLGtCQUFBO0VBQ0Esa0RBQUE7RUFDQSxvQkFBQTtFQUFBLGFBQUE7RUFDQSx3QkFBQTtVQUFBLHVCQUFBO0VBQ0EseUJBQUE7VUFBQSxtQkFBQTtFQUNBLFlBQUE7QUNIWjs7QURJWTtFQUNJLHNCQUFBO0FDRmhCIiwiZmlsZSI6InNyYy9hcHAvaGlzdG9yeS9oaXN0b3J5LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1pbnB1dCB7XG4gICAgdGV4dC1hbGlnbjogZW5kICFpbXBvcnRhbnRcbn1cblxuaW9uLWl0ZW0sXG5pb24tbGlzdC1oZWFkZXIge1xuICAgIC0tcGFkZGluZy1zdGFydDogMCAhaW1wb3J0YW50O1xufVxuXG5pb24tbGlzdC1oZWFkZXIge1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItbWVkaXVtKSAhaW1wb3J0YW50XG59XG5cbmlvbi1yb3cge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi5zZWFyY2hfX2hpbnQge1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFuZ2VyKSAhaW1wb3J0YW50O1xuICAgIHBhZGRpbmc6IDEwcHggIWltcG9ydGFudDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5zaW5nbGVfX2d1ZXN0LFxuLmdyb3VwX19ndWVzdCB7XG4gICAgaW9uLWl0ZW0tZ3JvdXAge1xuICAgICAgICBpb24taXRlbSB7XG4gICAgICAgICAgICBpb24tYXZhdGFyIHtcbiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDIwcHggIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDcwcHggIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgICB3aWR0aDogNzBweCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWFwcC1iYWNrZ3JvdW5kLXNoYWRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlvbi1yb3cge1xuICAgICAgICAgICAgaW9uLWNvbFtzaXplPSc4J10ge1xuICAgICAgICAgICAgICAgIGhlaWdodDogNzBweCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICAgIG1hcmdpbjogMHB4IDBweCAwcHggMjBweDtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgICAgICAgIC8qIGFsaWduLWl0ZW1zOiBjZW50ZXI7ICovXG4gICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgICAgICAgIGg2LFxuICAgICAgICAgICAgICAgIHAge1xuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMCAhaW1wb3J0YW50XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHAge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogZ3JleSAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlvbi1jb2xbc2l6ZT0nMiddIHtcbiAgICAgICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNDBweCwgLTIwcHgpO1xuICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICAgICAgICAgICAgICAgIC5zdGF0dXMge1xuICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5KSAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuaW9uLWdyaWQge1xuICAgIC8vICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1hcHAtYmFja2dyb3VuZC1zaGFkZSk7XG4gICAgcGFkZGluZzogMHB4IDBweCAxMHB4IDBweDtcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICAgIC8vICAgICBtYXJnaW4tdG9wOiAyMHB4O1xufVxuXG5wIHtcbiAgICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XG4gICAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7XG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrKSAhaW1wb3J0YW50XG59XG5cbi5zZWMtY29udGVudCB7XG4gICAgaW9uLXJvdyB7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyICFpbXBvcnRhbnQ7XG4gICAgICAgIC52aXNpdG9yX19jb2RlIHtcbiAgICAgICAgICAgIGhlaWdodDogNzBweCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgd2lkdGg6IDcwcHggIWltcG9ydGFudDtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWFwcC1iYWNrZ3JvdW5kLXNoYWRlKSAhaW1wb3J0YW50O1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICAgIG1hcmdpbjogMTBweDtcbiAgICAgICAgICAgICN2aXNpdG9yX19jb2RlLS10ZXh0IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogIzAwMCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsImlvbi1pbnB1dCB7XG4gIHRleHQtYWxpZ246IGVuZCAhaW1wb3J0YW50O1xufVxuXG5pb24taXRlbSxcbmlvbi1saXN0LWhlYWRlciB7XG4gIC0tcGFkZGluZy1zdGFydDogMCAhaW1wb3J0YW50O1xufVxuXG5pb24tbGlzdC1oZWFkZXIge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLW1lZGl1bSkgIWltcG9ydGFudDtcbn1cblxuaW9uLXJvdyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi5zZWFyY2hfX2hpbnQge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhbmdlcikgIWltcG9ydGFudDtcbiAgcGFkZGluZzogMTBweCAhaW1wb3J0YW50O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5zaW5nbGVfX2d1ZXN0IGlvbi1pdGVtLWdyb3VwIGlvbi1pdGVtIGlvbi1hdmF0YXIsXG4uZ3JvdXBfX2d1ZXN0IGlvbi1pdGVtLWdyb3VwIGlvbi1pdGVtIGlvbi1hdmF0YXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBkaXNwbGF5OiBmbGV4O1xuICBwYWRkaW5nOiAyMHB4ICFpbXBvcnRhbnQ7XG4gIGhlaWdodDogNzBweCAhaW1wb3J0YW50O1xuICB3aWR0aDogNzBweCAhaW1wb3J0YW50O1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1hcHAtYmFja2dyb3VuZC1zaGFkZSk7XG59XG4uc2luZ2xlX19ndWVzdCBpb24taXRlbS1ncm91cCBpb24taXRlbSBpb24tY29sW3NpemU9XCI4XCJdLFxuLmdyb3VwX19ndWVzdCBpb24taXRlbS1ncm91cCBpb24taXRlbSBpb24tY29sW3NpemU9XCI4XCJdIHtcbiAgaGVpZ2h0OiA3MHB4ICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMHB4IDBweCAwcHggMjBweDtcbiAgcGFkZGluZzogMDtcbiAgLyogYWxpZ24taXRlbXM6IGNlbnRlcjsgKi9cbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG59XG4uc2luZ2xlX19ndWVzdCBpb24taXRlbS1ncm91cCBpb24taXRlbSBpb24tY29sW3NpemU9XCI4XCJdIGg2LFxuLnNpbmdsZV9fZ3Vlc3QgaW9uLWl0ZW0tZ3JvdXAgaW9uLWl0ZW0gaW9uLWNvbFtzaXplPVwiOFwiXSBwLFxuLmdyb3VwX19ndWVzdCBpb24taXRlbS1ncm91cCBpb24taXRlbSBpb24tY29sW3NpemU9XCI4XCJdIGg2LFxuLmdyb3VwX19ndWVzdCBpb24taXRlbS1ncm91cCBpb24taXRlbSBpb24tY29sW3NpemU9XCI4XCJdIHAge1xuICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xufVxuLnNpbmdsZV9fZ3Vlc3QgaW9uLWl0ZW0tZ3JvdXAgaW9uLWl0ZW0gaW9uLWNvbFtzaXplPVwiOFwiXSBwLFxuLmdyb3VwX19ndWVzdCBpb24taXRlbS1ncm91cCBpb24taXRlbSBpb24tY29sW3NpemU9XCI4XCJdIHAge1xuICBjb2xvcjogZ3JleSAhaW1wb3J0YW50O1xufVxuLnNpbmdsZV9fZ3Vlc3QgaW9uLWl0ZW0tZ3JvdXAgaW9uLWl0ZW0gaW9uLWNvbFtzaXplPVwiMlwiXSxcbi5ncm91cF9fZ3Vlc3QgaW9uLWl0ZW0tZ3JvdXAgaW9uLWl0ZW0gaW9uLWNvbFtzaXplPVwiMlwiXSB7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTQwcHgsIC0yMHB4KTtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG4uc2luZ2xlX19ndWVzdCBpb24taXRlbS1ncm91cCBpb24taXRlbSBpb24tY29sW3NpemU9XCIyXCJdIC5zdGF0dXMsXG4uZ3JvdXBfX2d1ZXN0IGlvbi1pdGVtLWdyb3VwIGlvbi1pdGVtIGlvbi1jb2xbc2l6ZT1cIjJcIl0gLnN0YXR1cyB7XG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnkpICFpbXBvcnRhbnQ7XG59XG5cbmlvbi1ncmlkIHtcbiAgcGFkZGluZzogMHB4IDBweCAxMHB4IDBweDtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbn1cblxucCB7XG4gIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcbiAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyaykgIWltcG9ydGFudDtcbn1cblxuLnNlYy1jb250ZW50IGlvbi1yb3cge1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlciAhaW1wb3J0YW50O1xufVxuLnNlYy1jb250ZW50IGlvbi1yb3cgLnZpc2l0b3JfX2NvZGUge1xuICBoZWlnaHQ6IDcwcHggIWltcG9ydGFudDtcbiAgd2lkdGg6IDcwcHggIWltcG9ydGFudDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1hcHAtYmFja2dyb3VuZC1zaGFkZSkgIWltcG9ydGFudDtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIG1hcmdpbjogMTBweDtcbn1cbi5zZWMtY29udGVudCBpb24tcm93IC52aXNpdG9yX19jb2RlICN2aXNpdG9yX19jb2RlLS10ZXh0IHtcbiAgY29sb3I6ICMwMDAgIWltcG9ydGFudDtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { HoaStoreService } from '../hoa-store.service';\n\nimport * as firebase from 'firebase/app';\nimport 'firebase/database';\n\n@Component({\n  selector: 'app-history',\n  templateUrl: './history.page.html',\n  styleUrls: ['./history.page.scss'],\n  providers: [HoaStoreService]\n})\nexport class HistoryPage implements OnInit {\n      profile: any;\n      visitors: any[];\n      visitorsKeys: any[] = [];\n      role: any;\n      uid: any;\n      searchKey = '';\n      allVisitors = [];\n      allVisitorsKeys = [];\n      searchedIndex = 0;\n      searchErrorText: string;\n  constructor(private store: HoaStoreService,\n              private router: Router) {\n        this.role = this.store.getItem('hoa-role');\n        this.uid = this.store.getItem('hoa-uid');\n  }\n\n  getProfile() {\n      firebase.database().ref(`${this.role}/${this.uid}`).once('value', (snapshot) => {\n            this.profile = snapshot.val();\n      }).catch((err: Error) => {\n            console.error(err.message);\n      });\n  }\n\n  getVisitors() {\n        if (this.role === 'resident' || this.role === 'dependent') {\n            firebase.database().ref(`${this.role}/${this.uid}`).child('visitors').orderByChild('bookedAt').once('value', (snapshot) => {\n                  this.visitors = [];\n                  for (const key in snapshot.val()) {\n                        if (snapshot.val().hasOwnProperty(key)) {\n                              const visitor = snapshot.val()[key];\n                              this.visitors.push(visitor);\n                              this.visitorsKeys.push(key);\n                        }\n                  }\n                  this.visitors = this.visitors.reverse().slice(0, 500);\n                  this.visitorsKeys = this.visitorsKeys.reverse().slice(0, 500);\n                  this.allVisitors = this.visitors;\n                  this.allVisitorsKeys = this.visitorsKeys;\n            }).catch((err: Error) => {\n                  console.error(err.message);\n            });\n        }\n        if (this.role === 'security') {\n            firebase.database().ref(`Estates/${this.profile.estateUID}/visitors`).orderByChild('bookedAt').once('value', (snapshot) => {\n                  this.visitors = [];\n                  for (const key in snapshot.val()) {\n                        if (snapshot.val().hasOwnProperty(key)) {\n                              const visitor = snapshot.val()[key];\n                              this.visitors.push(visitor);\n                              this.visitorsKeys.push(key);\n                        }\n                  }\n                  this.visitors.reverse();\n                  this.visitorsKeys.reverse();\n                  this.allVisitors = this.visitors;\n                  this.allVisitorsKeys = this.visitorsKeys;\n            }).catch((err: Error) => {\n                  console.error(err.message);\n            });\n        }\n  }\n\n  filter(ev: any) {\n      // this.items = this.allItems;\n      // this.getVisitors();\n    this.visitors = this.allVisitors;\n      // console.log(ev);\n    const val = ev.detail.value;\n//     console.log('/val', typeof val);\n\n    if (val && val.trim() !== '') {\n      this.visitors = this.visitors.filter(term => {\n            this.searchedIndex = this.visitors.indexOf(term);\n            // this.visitorsKeys = this.visitorsKeys[this.searchedIndex];\n            console.log('Selected Index', this.searchedIndex);\n        return term.guestCode.toString() === val;\n      });\n      // this.visitors.filter(term => {\n      //       this.visitorsKeys = [];\n      //       return this.visitorsKeys.push(this.visitorsKeys[this.visitors.indexOf(term)]);\n      // });\n    }\n    console.log(this.visitorsKeys);\n  }\n\n  search(ev: any): Promise<any> {\n      console.log(ev);\n      console.log('searching');\n    //    for (let i = 0; i < this.visitors.length; i++) {\n    //          console.log('forloop');\n    //       if (this.visitors[i].guest.fullname === this.searchKey) {\n    //             console.log('found at ' + i);\n    //             this.visitors = [];\n    //             this.visitors.push(this.visitors[i]);\n    //       }\n    //    }\n\n    return new Promise((resolve, reject) => {\n      const val = ev.detail.value;\n      if (val !== '' && val !== null) {\n            this.allVisitors.forEach((visitor, i) => {\n               // console.log(visitor);\n               // if (!this.checkIsArray(visitor.guest)) {\n                     console.log(this.checkIsArray(visitor.guest));\n                     if (visitor.guestCode.toString() === this.searchKey) {\n                           // console.log('found at ' + i);\n                           this.visitors = [];\n                           this.visitorsKeys = [];\n                           this.visitors.push(this.allVisitors[i]);\n                           this.visitorsKeys.push(this.allVisitorsKeys[i]);\n                           console.log(this.visitors);\n                           this.searchErrorText = '';\n                        //    return this.visitors;\n                     }\n                     resolve(this.searchErrorText = '');\n               // } else {\n               //       visitor.guest.forEach(guest => {\n                           // if (guest.fullname.toLowerCase() === this.searchKey) {\n                           //       // console.log('found at ' + i);\n                           //       this.visitors = [];\n                           //       this.visitorsKeys = [];\n                           //       this.visitors.push(this.allVisitors[i]);\n                           //       this.visitorsKeys.push(this.allVisitorsKeys[i]);\n                           //       console.log(this.visitors);\n                           //       return;\n                           // }\n                     });\n                     reject('Guest Code Does Not Exist');\n            } else {\n                  this.visitors = this.allVisitors;\n                  this.visitorsKeys = this.allVisitorsKeys;\n                  this.searchErrorText = '';\n            }\n    }).catch((err) => {\n      this.searchErrorText = err;\n    });\n    //       }\n    //    });\n}\n\n//   search() {\n//         console.log('searching');\n//       //    for (let i = 0; i < this.visitors.length; i++) {\n//       //          console.log('forloop');\n//       //       if (this.visitors[i].guest.fullname === this.searchKey) {\n//       //             console.log('found at ' + i);\n//       //             this.visitors = [];\n//       //             this.visitors.push(this.visitors[i]);\n//       //       }\n//       //    }\n\n//          this.allVisitors.forEach((visitor, i) => {\n//             // console.log(visitor);\n//             // if (!this.checkIsArray(visitor.guest)) {\n//                   console.log(this.checkIsArray(visitor.guest));\n//                   if (visitor.guestCode.toString() === this.searchKey) {\n//                         // console.log('found at ' + i);\n//                         this.visitors = [];\n//                         this.visitorsKeys = [];\n//                         this.visitors.push(this.allVisitors[i]);\n//                         this.visitorsKeys.push(this.allVisitorsKeys[i]);\n//                         console.log(this.visitors);\n//                         return;\n//                   }\n//             // } else {\n//             //       visitor.guest.forEach(guest => {\n//                         // if (guest.fullname.toLowerCase() === this.searchKey) {\n//                         //       // console.log('found at ' + i);\n//                         //       this.visitors = [];\n//                         //       this.visitorsKeys = [];\n//                         //       this.visitors.push(this.allVisitors[i]);\n//                         //       this.visitorsKeys.push(this.allVisitorsKeys[i]);\n//                         //       console.log(this.visitors);\n//                         //       return;\n//                         // }\n//                   });\n//       //       }\n//       //    });\n//   }\n\n  checkIsArray(obj: any) {\n      return Array.isArray(obj);\n  }\n\n  viewVisitor(i: number) {\n      console.log(this.visitorsKeys[i]);\n    this.router.navigate(['details', this.visitorsKeys[i]]);\n}\n\n  bookGuest() {\n        this.router.navigate(['book-guest']);\n  }\n\n  ngOnInit() {\n      this.role = this.store.getItem('hoa-role');\n      this.uid = this.store.getItem('hoa-uid');\n        this.getProfile();\n        this.getVisitors();\n  }\n\n  ionViewDidEnter() {\n      this.role = this.store.getItem('hoa-role');\n      this.uid = this.store.getItem('hoa-uid');\n        this.getProfile();\n        this.getVisitors();\n        this.visitors = this.allVisitors;\n  }\n\n  ionViewWillEnter() {\n      this.role = this.store.getItem('hoa-role');\n      this.uid = this.store.getItem('hoa-uid');\n        this.getProfile();\n        this.getVisitors();\n        this.visitors = this.allVisitors;\n  }\n\n}\n"],"sourceRoot":"webpack:///","file":"history-history-module-es5.js"}